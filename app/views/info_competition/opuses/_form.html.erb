<%= simple_form_for([@info_competition_recruit, @info_competition_opus], url:info_competition_recruit_opuses_path, wrapper: :push_horizontal_form) do |f| %>

  <!-- <div class="form-row">
    <div class="form-left">课程名称：</div>
    <div class="form-right">
      <div class="row">
        <div class="col-md-6 push-input">
          <%#= f.simple_fields_for("player_info") do |r| %>
            <%#= r.input "degree", label: false, required: true, input_html: { value: @info_competition_recruit.try(:name)} %> 
          <%#= end %>
        </div>
      </div>
    </div>
  </div>
  <div class="form-row">
    <div class="form-left">参赛内容：</div>
    <div class="form-right">
      <div class="row">
        <div class="col-md-6 push-input">
          <%#= f.simple_fields_for("player_info") do |r| %>
            <%#= r.input "degree", label: false, required: true, input_html: { value: @info_competition_recruit.try(:version)} %> 
          <%#= end %>
        </div>
      </div>
    </div>
  </div> -->
  <div class="form-row">
    <div class="form-left">参赛视频：</div>
    <div class="form-right">
      <div class="row">
        <div class="col-md-4 push-input">
          <div class="label1" id="upload-file-info">选择文件</div>
        </div>
        <div class="pull-left layout-type">
          <label class="blank-text">.mp4</label>
        </div>
        <div class="col-md-2">
          <label class="btn btn-push mp4">
            上传
            <span style="display:none;">
              <%= f.simple_fields_for :media do |r| %>
                <%= r.file_field :file, as: :file,label: false, required: true, multiple: true, onchange:'$("#upload-file-info").html($(this).val());$("#upload-file-info").css({color:"#3D96D5"})' %> 
              <% end %>
            </span>
          </label>
        </div>
      </div>
      <div class="text-center warning_text">
        <%= image_tag "warning.svg" %>上传说明：请上传MP4格式的视频，视频大小不超过300M
      </div>
    </div>
  </div>
  <!-- <div class="form-row">
    <div class="form-left">参赛教材：</div>
    <div class="form-right">
      <div class="row">
        <div class="col-md-6 push-input">
          <%#= f.simple_fields_for :player_info do |r| %>
            <%#= r.input "degree", label: false, required: true, input_html: { value: @info_competition_recruit.try(:version)} %> 
          <%#= end %>
        </div>
      </div>
    </div>
  </div>
  <div class="form-row">
    <div class="form-left">创作说明：</div>
    <div class="form-right">
      <div class="row">
        <div class="col-md-6 push-input push-textarea">
          <%#= f.simple_fields_for("player_info") do |r| %>
            <%#= r.input "degree", as: :text, label: false, wrapper: :vertical_form, input_html: {rows: 3, value: @info_competition_recruit.try(:comment)}, required: true %>
          <%#= end %>
        </div>
      </div>
    </div>
  </div> -->
  <!-- <div class="form-row">
    <div class="form-left">教案：</div>
    <div class="form-right">
      <div class="row">
        <div class="col-md-4 push-input">
          <div class="label1" id="upload-file-info2">选择文件</div>
        </div>
        <div class="pull-left layout-type">
          <label class="blank-text">.mp4</label>
        </div>
        <div class="col-md-2">
          <label class="btn btn-push">
            上传
            <span style="display:none;">
              <%= f.simple_fields_for :plan do |r| %>
                <%= r.file_field :file, label: false, required: true, multiple: true, onchange:'$("#upload-file-info2").html($(this).val());$("#upload-file-info2").css({color:"#3D96D5"})' %>
              <% end %>
            </span>
          </label>
        </div>
      </div>
    </div>
  </div>
  <div class="form-row">
    <div class="form-left">说课稿：</div>
    <div class="form-right">
      <div class="row">
        <div class="col-md-4 push-input">
          <div class="label1" id="upload-file-info3">选择文件</div>
        </div>
        <div class="pull-left layout-type">
          <label class="blank-text">.mp4</label>
        </div>
        <div class="col-md-2">
          <label class="btn btn-push">
            上传
            <span style="display:none;">
              <%= f.simple_fields_for :note do |r| %>
                <%= r.file_field :file, label: false, required: true, multiple: true, onchange:'$("#upload-file-info3").html($(this).val());$("#upload-file-info3").css({color:"#3D96D5"})' %> 
              <% end %>
            </span>
          </label>
        </div>
      </div>
    </div>
  </div> -->
  <!-- <div class="form-row">
    <div class="form-left">PPT：</div>
    <div class="form-right">
      <div class="row">
        <div class="col-md-4 push-input">
          <div class="label1" id="upload-file-info4">选择文件</div>
        </div>
        <div class="pull-left layout-type">
          <label class="blank-text">.mp4</label>
        </div>
        <div class="col-md-2">
          <label class="btn btn-push">
            上传
            <span style="display:none;">
              <%= f.simple_fields_for :ppt do |r| %>
                <%= r.file_field :file, label: false, required: true, multiple: true, onchange:'$("#upload-file-info4").html($(this).val());$("#upload-file-info4").css({color:"#3D96D5"})' %> 
              <% end %>
            </span>
          </label>
        </div>
      </div>
    </div>
  </div> -->
  <div class="text-center form-bottom">
    <%= f.button :submit, "提  交", class: "btn_push_sure", data: {disable_with: '提交中...'} %>
  </div>
<% end %>
<script type="text/javascript">
  $('.mp4 INPUT[type="file"]').change(function () {
    var ext = this.value.match(/\.(.+)$/)[1];
    switch (ext) {
      case 'mp4':
        $('#uploadButton').attr('disabled', false);
        break;
      default:
        this.value = '';
        $("#upload-file-info").html("选择文件");
        $("#upload-file-info").css({color:"#9B9B9B"})
        alert('文件格式不符合，请重新上传！');
    };
  });
</script>

